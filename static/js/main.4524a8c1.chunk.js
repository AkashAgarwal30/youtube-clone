(this["webpackJsonpyoutube-react"]=this["webpackJsonpyoutube-react"]||[]).push([[0],{137:function(e,t,n){e.exports=n.p+"static/media/logo.e5520ae2.jpg"},154:function(e,t,n){e.exports=n(204)},163:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(45),r=n.n(s),i=n(22);const c="REQUEST",l="SUCCESS",d="FAILURE";function u(e){if(!e)throw new Error("cannot create request type with base = '' or base = null");return[c,l,d].reduce((t,n)=>(t[n]="".concat(e,"_").concat(n),t),{})}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:e,...t}}const p=u("VIDEO_CATEGORIES"),h={request:()=>m(p[c]),success:e=>m(p[l],{response:e}),failure:e=>m(p[d],{response:e})},b=u("MOST_POPULAR"),v={request:(e,t,n)=>m(b[c],{amount:e,loadDescription:t,nextPageToken:n}),success:e=>m(b[l],{response:e}),failure:e=>m(b[d],{response:e})},E=u("MOST_POPULAR_BY_CATEGORY"),g=e=>m(E[c],{categories:e}),f=(e,t)=>m(E[l],{response:e,categories:t}),y=e=>m(E[d],e);n(163);var C=n(228),k=n(67),w=(n(164),n(34)),O=n(14);class I extends o.a.Component{render(){const e=this.shouldBeHighlighted()?"highlight-item":null;return o.a.createElement(w.b,{to:{pathname:this.props.path}},o.a.createElement(C.a.Item,{className:["sidebar-item",e].join(" ")},o.a.createElement("div",{className:"sidebar-item-alignment-container"},o.a.createElement("span",null,o.a.createElement(k.a,{size:"large",name:this.props.icon})," "),o.a.createElement("span",null,this.props.label))))}shouldBeHighlighted(){const{pathname:e}=this.props.location;return"/"===this.props.path?e===this.props.path:e.includes(this.props.path)}}var T=Object(O.f)(I),L=n(222);n(166),n(167);function x(e){const t=e.title?e.title.toUpperCase():"";return o.a.createElement(C.a.Item,null,o.a.createElement(C.a.Header,{className:"side-bar-header"},t))}var j=n(139);n(168);function N(e){let t=null;const{broadcasting:n,amountNewVideos:a}=e;return n?t=o.a.createElement(k.a,{name:"signal"}):a&&(t=o.a.createElement("span",{className:"new-videos-count"},a)),o.a.createElement(C.a.Item,null,o.a.createElement("div",{className:"subscription"},o.a.createElement("div",null,o.a.createElement(j.a,{src:"https://via.placeholder.com/28x28",avatar:!0}),o.a.createElement("span",null,e.label)),t))}class P extends o.a.Component{render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(x,{title:"Subscriptions"}),o.a.createElement(N,{label:"MusicChannel",broadcasting:!0}),o.a.createElement(N,{label:"Coursea",amountNewVideos:10}),o.a.createElement(N,{label:"TEDx Talks",amountNewVideos:23}),o.a.createElement(N,{label:"Stanford iOS",amountNewVideos:4}),o.a.createElement(N,{label:"Udacity",amountNewVideos:114}),o.a.createElement(L.a,null))}}n(171);function V(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"footer-block"},o.a.createElement("div",null,"About Press Copyright"),o.a.createElement("div",null,"Creators Advertise"),o.a.createElement("div",null,"Developers +MyTube"),o.a.createElement("div",null,"Legal")),o.a.createElement("div",{className:"footer-block"},o.a.createElement("div",null,"Terms Privacy"),o.a.createElement("div",null,"Policy & Safety"),o.a.createElement("div",null,"Test new features")),o.a.createElement("div",{className:"footer-block"},o.a.createElement("div",null,"All prices include VAT")),o.a.createElement("div",{className:"footer-block"},o.a.createElement("div",null,"\xa9 Productioncoder.com - A Youtube clone for educational purposes under fair use.")))}class S extends o.a.Component{render(){return o.a.createElement(C.a,{borderless:!0,vertical:!0,stackable:!0,fixed:"left",className:"side-nav"},o.a.createElement(T,{path:"/",label:"Home",icon:"home"}),o.a.createElement(T,{path:"/feed/trending",label:"Trending",icon:"fire"}),o.a.createElement(T,{label:"Followers",icon:"spy"}),o.a.createElement(L.a,null),o.a.createElement(x,{title:"Library"}),o.a.createElement(T,{label:"History",icon:"history"}),o.a.createElement(T,{label:"Watch later",icon:"clock"}),o.a.createElement(T,{label:"Liked videos",icon:"thumbs up"}),o.a.createElement(L.a,null),o.a.createElement(P,null),o.a.createElement(x,{title:"More from Youtube"}),o.a.createElement(T,{label:"Movies and Shows",icon:"film"}),o.a.createElement(L.a,null),o.a.createElement(T,{label:"Report history",icon:"flag"}),o.a.createElement(T,{label:"Help",icon:"help circle"}),o.a.createElement(T,{label:"Send feedback",icon:"comment"}),o.a.createElement(L.a,null),o.a.createElement(V,null))}}n(172),n(173);function R(e){return o.a.createElement("div",{className:"video-grid-header"},o.a.createElement("span",{className:"title"},e.title))}n(174);var D=n(227),A=n(135);const M=["K","M","B","T"];function B(e){const t=M.some((t,n)=>{const a=Math.pow(1e3,n+1);return e>a&&e<a+10*a})?1:0;for(let n=M.length-1;n>=0;n--){const a=Math.pow(1e3,n+1);if(e>=a)return(e/a).toFixed(t)+M[n]}return e.toString()}const F=["years","months","days","hours","minutes","seconds"],U="\\d+(?:[\\.,]\\d{0,3})?",_="(".concat(U,"Y)?(").concat(U,"M)?(").concat(U,"D)?"),q="T(".concat(U,"H)?(").concat(U,"M)?(").concat(U,"S)?"),z=new RegExp("P(?:".concat(_,"(?:").concat(q,")?)"));function G(e){if(!e||""===e)return"";let{days:t,hours:n,minutes:a,seconds:o}=e.match(z).slice(1).reduce((e,t,n)=>(e[F[n]]=parseFloat(t)||0,e),{});let s=o.toString(),r=a.toString(),i=24*t+n;return o<10&&(s=o.toString().padStart(2,"0")),a<10&&0!==n&&(r=r.toString().padStart(2,"0")),i?[i,r,s].join(":"):[r,s].join(":")}D.a.locale(A);const W=new D.a("en-US");class Y extends o.a.Component{render(){const{video:e}=this.props;if(!e)return o.a.createElement("div",null);const t=G(e.contentDetails?e.contentDetails.duration:null),n=Y.getFormattedViewAndTime(e),a=this.props.horizontal?"horizontal":null,s=this.props.expanded?"expanded":null,r=this.props.expanded?e.snippet.description:null;return o.a.createElement(w.b,{to:{pathname:this.props.pathname,search:this.props.search}},o.a.createElement("div",{className:["video-preview",a,s].join(" ")},o.a.createElement("div",{className:"image-container"},o.a.createElement(j.a,{src:e.snippet.thumbnails.medium.url}),o.a.createElement("div",{className:"time-label"},o.a.createElement("span",null,t))),o.a.createElement("div",{className:"video-info"},o.a.createElement("div",{className:["semi-bold","show-max-two-lines",s].join(" ")},e.snippet.title),o.a.createElement("div",{className:"video-preview-metadata-container"},o.a.createElement("div",{className:"channel-title"},e.snippet.channelTitle),o.a.createElement("div",{className:"view-and-time"},n),o.a.createElement("div",{className:"show-max-two-lines"},r)))))}static getFormattedViewAndTime(e){const t=new Date(e.snippet.publishedAt);if(e.statistics?e.statistics.viewCount:null){const n=B(e.statistics.viewCount);return"".concat(n," views \u2022 ").concat(W.format(t))}return""}}function H(e){if(!e.videos||!e.videos.length)return o.a.createElement("div",null);const t=e.videos.map(e=>o.a.createElement(Y,{video:e,key:e.id,pathname:"/watch",search:"?v=".concat(e.id)})),n=e.hideDivider?null:o.a.createElement(L.a,null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{title:e.title}),o.a.createElement("div",{className:"video-grid"},t),n)}n(175);var Q=n(33);const X=u("WATCH_DETAILS"),J=(e,t)=>m(X[c],{videoId:e,channelId:t}),K=(e,t)=>m(X[l],{response:e,videoId:t}),Z=e=>m(X[d],{response:e}),$=u("VIDEO_DETAILS"),ee=e=>m($[l],{response:e}),te=e=>m($[d],{response:e}),ne=(e,t)=>{if(!e||!e.search)return null;return new URLSearchParams(e.search).get(t)},ae={byId:{},mostPopular:{},categories:{},byCategory:{},related:{}};function oe(e,t){const n=e.items.reduce((e,t)=>(e[t.id]=t,e),{});let a=Object.keys(n);e.hasOwnProperty("prevPageToken")&&t.mostPopular&&(a=[...t.mostPopular.items,...a]);const o={totalResults:e.pageInfo.totalResults,nextPageToken:e.nextPageToken,items:a};return{...t,mostPopular:o,byId:{...t.byId,...n}}}function se(e,t){return{...t,categories:e.items.reduce((e,t)=>(e[t.id]=t.snippet.title,e),{})}}function re(e,t,n){let a={},o={};return e.forEach((e,n)=>{if(400===e.status)return;const s=t[n],{byId:r,byCategory:i}=function(e){const t=e.items,n={},a={totalResults:e.pageInfo.totalResults,nextPageToken:e.nextPageToken,items:[]};return t.forEach(e=>{n[e.id]=e;const t=a.items;t&&t?t.push(e.id):a.items=[e.id]}),{byId:n,byCategory:a}}(e.result);a={...a,...r},o[s]=i}),{...n,byId:{...n.byId,...a},byCategory:{...n.byCategory,...o}}}function ie(e,t){const n=e.find(e=>"youtube#videoListResponse"===e.result.kind).result.items[0],a=function(e){const t=e.find(e=>"youtube#searchListResponse"===e.result.kind),{pageInfo:n,items:a,nextPageToken:o}=t.result,s=a.map(e=>e.id.videoId);return{totalResults:n.totalResults,nextPageToken:o,items:s}}(e);return{...t,byId:{...t.byId,[n.id]:n},related:{...t.related,[n.id]:a}}}function ce(e,t){const n=e.filter(e=>"youtube#videoListResponse"===e.result.kind).reduce((e,t)=>{const n=t.result.items?t.result.items[0]:null;return n?(e[n.id]=n,e):e},{});return{...t,byId:{...t.byId,...n}}}const le=e=>e.videos.mostPopular,de=Object(Q.a)(e=>e.videos.byId,le,(e,t)=>t&&t.items?t.items.map(t=>e[t]):[]),ue=Object(Q.a)(e=>e.videos.categories,e=>Object.keys(e||{})),me=Object(Q.a)(e=>e.videos.byCategory,e=>e.videos.byId,e=>e.videos.categories,(e,t,n)=>Object.keys(e||{}).reduce((a,o)=>{const s=e[o].items;return a[n[o]]=s.map(e=>t[e]),a},{})),pe=Object(Q.a)(e=>e.videos.categories,e=>0!==Object.keys(e||{}).length),he=Object(Q.a)(e=>e.videos.byCategory,e=>Object.keys(e||{}).length),be=(e,t)=>e.videos.byId[t],ve=Object(Q.a)((e,t)=>{const n=e.videos.related[t];return n?n.items:[]},e=>e.videos.byId,(e,t)=>e?e.map(e=>t[e]).filter(e=>e):[]),Ee=(e,t,n)=>{const a=ne(t,n),o=e.videos.byId[a];return o?o.snippet.channelId:null},ge=Object(Q.a)(be,e=>e?e.statistics.commentCount:0),fe=Object(Q.a)([le],e=>(e.items?e.items.length:0)===e.totalResults),ye=Object(Q.a)([le],e=>e.nextPageToken);var Ce=n(136),ke=n(223);n(176);function we(e){return o.a.createElement(o.a.Fragment,null,e.children,o.a.createElement(Ce.a,{onEnter:e.bottomReachedCallback},o.a.createElement("div",{className:"loader-container"},o.a.createElement(ke.a,{active:e.showLoader,inline:"centered"}))))}class Oe extends o.a.Component{render(){const e=this.getTrendingVideos(),t=this.getVideoGridsForCategories();return o.a.createElement("div",{className:"home-content"},o.a.createElement("div",{className:"responsive-video-grid-container"},o.a.createElement(we,{bottomReachedCallback:this.props.bottomReachedCallback,showLoader:this.props.showLoader},o.a.createElement(H,{title:"Trending",videos:e}),t)))}getTrendingVideos(){return this.props.mostPopularVideos.slice(0,12)}getVideoGridsForCategories(){const e=Object.keys(this.props.videosByCategory||{});return e.map((t,n)=>{const a=this.props.videosByCategory[t],s=n===e.length-1;return o.a.createElement(H,{title:t,videos:a,key:t,hideDivider:s})})}}var Ie=Object(i.b)((function(e){return{videosByCategory:me(e),mostPopularVideos:de(e)}}),null)(Oe),Te=n(20);const Le=m.bind(null,"YOUTUBE_LIBRARY_LOADED"),xe={libraryLoaded:!1};const je=e=>e.api.libraryLoaded;class Ne extends o.a.Component{constructor(e){super(e),this.bottomReachedCallback=()=>{this.props.videoCategoriesLoaded&&this.fetchVideosByCategory()},this.state={categoryIndex:0}}render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,null),o.a.createElement(Ie,{bottomReachedCallback:this.bottomReachedCallback,showLoader:this.shouldShowLoader()}))}componentDidMount(){this.props.youtubeLibraryLoaded&&this.fetchCategoriesAndMostPopularVideos()}componentDidUpdate(e){this.props.youtubeLibraryLoaded!==e.youtubeLibraryLoaded?this.fetchCategoriesAndMostPopularVideos():this.props.videoCategories!==e.videoCategories&&this.fetchVideosByCategory()}fetchVideosByCategory(){const e=this.state.categoryIndex,t=this.props.videoCategories.slice(e,e+3);this.props.fetchMostPopularVideosByCategory(t),this.setState(e=>({categoryIndex:e.categoryIndex+3}))}fetchCategoriesAndMostPopularVideos(){this.props.fetchMostPopularVideos(),this.props.fetchVideoCategories()}shouldShowLoader(){return!(!this.props.videoCategoriesLoaded||!this.props.videosByCategoryLoaded)&&this.state.categoryIndex<this.props.videoCategories.length}}var Pe=Object(i.b)((function(e){return{youtubeLibraryLoaded:je(e),videoCategories:ue(e),videoCategoriesLoaded:pe(e),videosByCategoryLoaded:he(e)}}),(function(e){const t=v.request,n=h.request,a=g;return Object(Te.b)({fetchMostPopularVideos:t,fetchVideoCategories:n,fetchMostPopularVideosByCategory:a},e)}))(Ne),Ve=(n(177),n(226)),Se=n(224),Re=(n(178),n(137)),De=n.n(Re);class Ae extends o.a.Component{constructor(e){super(e),this.onInputChange=e=>{this.setState({query:e.target.value})},this.onSubmit=()=>{const e=encodeURI(this.state.query);this.props.history.push("/results?search_query=".concat(e))},this.state={query:""}}render(){return o.a.createElement(C.a,{borderless:!0,className:"top-menu",fixed:"top"},o.a.createElement(C.a.Item,{header:!0,className:"logo"},o.a.createElement(w.b,{to:"/"},o.a.createElement(j.a,{src:De.a,size:"tiny"}))),o.a.createElement(C.a.Menu,{className:"nav-container"},o.a.createElement(C.a.Item,{className:"search-input"},o.a.createElement(Ve.a,{onSubmit:this.onSubmit},o.a.createElement(Ve.a.Field,null,o.a.createElement(Se.a,{placeholder:"Search",size:"small",action:"Go",value:this.state.query,onChange:this.onInputChange})))),o.a.createElement(C.a.Menu,{position:"right"},o.a.createElement(C.a.Item,null,o.a.createElement(k.a,{className:"header-icon",name:"video camera",size:"large"})),o.a.createElement(C.a.Item,null,o.a.createElement(k.a,{className:"header-icon",name:"grid layout",size:"large"})),o.a.createElement(C.a.Item,null,o.a.createElement(k.a,{className:"header-icon",name:"chat",size:"large"})),o.a.createElement(C.a.Item,null,o.a.createElement(k.a,{className:"header-icon",name:"alarm",size:"large"})),o.a.createElement(C.a.Item,{name:"avatar"},o.a.createElement(j.a,{src:"https://via.placeholder.com/80x80",avatar:!0})))))}}var Me=Object(O.f)(Ae);class Be extends o.a.Component{componentDidUpdate(e){this.props.location!==e.location&&window&&window.scrollTo(0,0)}render(){return this.props.children}}var Fe=Object(O.f)(Be);function Ue(e){return o.a.createElement(Fe,null,o.a.createElement("div",{className:"app-layout"},o.a.createElement(Me,null),e.children))}n(179);function _e(e){if(!e.id)return null;const t="".concat("https://www.youtube.com/embed/").concat(e.id);return o.a.createElement("div",{className:"video-container"},o.a.createElement("div",{className:"video"},o.a.createElement("iframe",{className:"video-player",src:t,frameBorder:"0",allow:"autoplay; encrypted-media",allowFullScreen:!0,title:"video"})))}var qe=n(205),ze=(n(180),n(181),n(229));function Ge(e){let t=null,n=0!==e.likeCount?e.likeCount:null,a=null;if(e.likeCount&&e.dislikeCount){const s=parseFloat(e.likeCount),r=parseFloat(e.dislikeCount),i=s/(s+r)*100;n=B(s),a=B(r),t=o.a.createElement(ze.a,{percent:i,size:"tiny"})}return o.a.createElement("div",{className:"rating"},o.a.createElement("div",null,o.a.createElement(k.a,{name:"thumbs outline up"}),o.a.createElement("span",null,n)),o.a.createElement("div",null,o.a.createElement(k.a,{name:"thumbs outline down"}),o.a.createElement("span",null,a)),t)}function We(e){if(!e.video||!e.video.statistics)return o.a.createElement("div",null);const t=Number(e.video.statistics.viewCount).toLocaleString();return o.a.createElement("div",{className:"video-metadata"},o.a.createElement("h3",null,e.video.snippet.title),o.a.createElement("div",{className:"video-stats"},o.a.createElement("span",null,t," views"),o.a.createElement("div",{className:"video-actions"},o.a.createElement(Ge,{likeCount:e.video.statistics.likeCount,dislikeCount:e.video.statistics.dislikeCount}),o.a.createElement(qe.a,{basic:!0,icon:!0,labelPosition:"left"},o.a.createElement(k.a,{name:"share"}),"Share"),o.a.createElement(qe.a,{basic:!0,icon:!0},o.a.createElement(k.a,{name:"add circle"})),o.a.createElement(qe.a,{basic:!0,icon:!0},o.a.createElement(k.a,{name:"ellipsis horizontal"})))),o.a.createElement(L.a,null))}n(182);var Ye=n(138),He=n.n(Ye);class Qe extends o.a.Component{constructor(e){super(e),this.onToggleCollapseButtonClick=()=>{this.setState(e=>({collapsed:!e.collapsed}))},this.state={collapsed:!0}}render(){if(!this.props.video||!this.props.channel)return o.a.createElement("div",null);const e=this.getDescriptionParagraphs(),{descriptionTextClass:t,buttonTitle:n}=this.getConfig(),a=(s=this.props.video.snippet.publishedAt)?new Date(Date.parse(s)).toDateString():"";var s;const{channel:r}=this.props,i=this.getSubscriberButtonText(),c=r.snippet.thumbnails.medium.url,l=r.snippet.title;return o.a.createElement("div",null,o.a.createElement("div",{className:"video-info-box"},o.a.createElement(j.a,{className:"channel-image",src:c,circular:!0}),o.a.createElement("div",{className:"video-info"},o.a.createElement("div",{className:"channel-name"},l),o.a.createElement("div",{className:"video-publication-date"},a)),o.a.createElement(qe.a,{className:"subscribe",color:"youtube"},i),o.a.createElement("div",{className:"video-description"},o.a.createElement("div",{className:t},e),o.a.createElement(qe.a,{compact:!0,onClick:this.onToggleCollapseButtonClick},n))),o.a.createElement(L.a,null))}getDescriptionParagraphs(){const e=this.props.video.snippet?this.props.video.snippet.description:null;return e?e.split("\n").map((e,t)=>o.a.createElement("p",{key:t},o.a.createElement(He.a,null,e))):null}getSubscriberButtonText(){const{channel:e}=this.props,t=B(Number(e.statistics.subscriberCount));return"Subscribe ".concat(t)}getConfig(){let e="collapsed",t="Show More";return this.state.collapsed||(e="expanded",t="Show Less"),{descriptionTextClass:e,buttonTitle:t}}}n(195);function Xe(e){return o.a.createElement("div",{className:"comments-header"},o.a.createElement("h4",null,e.amountComments," Comments"),o.a.createElement(qe.a,{basic:!0,compact:!0,icon:!0,labelPosition:"left"},o.a.createElement(k.a,{name:"align left"}),"Sort by"))}n(196);function Je(e){if(!e.comment)return o.a.createElement("div",null);const t=e.comment.snippet.topLevelComment,{authorProfileImageUrl:n,authorDisplayName:a,textOriginal:s}=t.snippet,r=t.snippet.likeCount;return o.a.createElement("div",{className:"comment"},o.a.createElement(j.a,{className:"user-image",src:n,circular:!0}),o.a.createElement("div",null,o.a.createElement("div",{className:"user-name"},a),o.a.createElement("span",null,s),o.a.createElement("div",{className:"comment-actions"},o.a.createElement(Ge,{likeCount:r})," ",o.a.createElement(qe.a,{size:"mini",compact:!0},"REPLY"))))}n(197);var Ke=n(225);function Ze(){return o.a.createElement("div",{className:"add-comment"},o.a.createElement(j.a,{className:"user-image",src:"https://via.placeholder.com/48x48",circular:!0}),o.a.createElement(Ve.a,null,o.a.createElement(Ve.a.TextArea,{control:Ke.a,autoHeight:!0,placeholder:"Add a public comment"})))}class $e extends o.a.Component{render(){if(!this.props.comments)return o.a.createElement("div",null);const e=this.props.comments.map(e=>o.a.createElement(Je,{comment:e,key:e.id}));return o.a.createElement("div",null,o.a.createElement(Xe,{amountComments:this.props.amountComments}),o.a.createElement(Ze,{key:"add-comment"}),e)}}n(198),n(199);var et=n(230);function tt(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"next-up-container"},o.a.createElement("h4",null,"Up next"),o.a.createElement("div",{className:"up-next-toggle"},o.a.createElement("span",null,"Autoplay"),o.a.createElement(et.a,{toggle:!0,defaultChecked:!0}))),o.a.createElement(Y,{horizontal:!0,video:e.video,pathname:"/watch",search:"?v=".concat(e.video.id)}),o.a.createElement(L.a,null))}function nt(e){if(!e.videos||!e.videos.length)return o.a.createElement("div",{className:"related-videos"});const t=e.videos[0],n=e.videos.slice(1).map(e=>o.a.createElement(Y,{video:e,key:e.id,pathname:"/watch",search:"?v=".concat(e.id),horizontal:!0}));return o.a.createElement("div",{className:"related-videos"},o.a.createElement(tt,{video:t}),n)}n(200);const at={byId:{}};function ot(e,t){const n=e.find(e=>"youtube#channelListResponse"===e.result.kind);let a={};if(n&&n.result.items){const e=n.result.items[0];a[e.id]=e}return{...t,byId:{...t.byId,...a}}}function st(e,t){const n=e.find(e=>"youtube#channelListResponse"===e.result.kind);let a={};if(n&&n.result.items){const e=n.result.items[0];a={[e.id]:e}}return{...t,byId:{...t.byId,...a}}}const rt=(e,t)=>t?e.channels.byId[t]:null,it=u("COMMENT_THREAD"),ct={request:(e,t)=>m(it[c],{videoId:e,nextPageToken:t}),success:(e,t)=>m(it[l],{response:e,videoId:t}),failure:e=>m(it[d],{response:e})},lt={byVideo:{},byId:{}};function dt(e,t,n){return ut(e.find(e=>"youtube#commentThreadListResponse"===e.result.kind).result,t,n)}function ut(e,t,n){if(!e)return n;const a=e.items.reduce((e,t)=>(e[t.id]=t,e),{}),o=[...n.byVideo[t]?n.byVideo[t].ids:[],...Object.keys(a)],s={nextPageToken:e.nextPageToken,ids:o};return{...n,byId:{...n.byId,...a},byVideo:{...n.byVideo,[t]:s}}}const mt=Object(Q.a)((e,t)=>{const n=e.comments.byVideo[t];return n?n.ids:[]},e=>e.comments.byId,(e,t)=>e.map(e=>t[e])),pt=Object(Q.a)((e,t)=>{const n=ne(t,"v");return e.comments.byVideo[n]},e=>e?e.nextPageToken:null);class ht extends o.a.Component{render(){return this.props.videoId?o.a.createElement(we,{bottomReachedCallback:this.props.bottomReachedCallback,showLoader:this.shouldShowLoader()},o.a.createElement("div",{className:"watch-grid"},o.a.createElement(_e,{className:"video",id:this.props.videoId}),o.a.createElement(We,{className:"metadata",video:this.props.video}),o.a.createElement(Qe,{className:"video-info-box",video:this.props.video,channel:this.props.channel}),o.a.createElement(nt,{className:"related-videos",videos:this.props.relatedVideos}),o.a.createElement($e,{className:"comments",comments:this.props.comments,amountComments:this.props.amountComments}))):o.a.createElement("div",null)}shouldShowLoader(){return!!this.props.nextPageToken}}var bt=Object(i.b)((function(e,t){return{relatedVideos:ve(e,t.videoId),video:be(e,t.videoId),channel:rt(e,t.channelId),comments:mt(e,t.videoId),amountComments:ge(e,t.videoId)}}),null)(ht);class vt extends o.a.Component{constructor(){super(...arguments),this.fetchMoreComments=()=>{this.props.nextPageToken&&this.props.fetchCommentThread(this.getVideoId(),this.props.nextPageToken)}}render(){const e=this.getVideoId();return o.a.createElement(bt,{videoId:e,channelId:this.props.channelId,bottomReachedCallback:this.fetchMoreComments,nextPageToken:this.props.nextPageToken})}componentDidMount(){this.props.youtubeLibraryLoaded&&this.fetchWatchContent()}componentDidUpdate(e){this.props.youtubeLibraryLoaded!==e.youtubeLibraryLoaded&&this.fetchWatchContent()}getVideoId(){return ne(this.props.location,"v")}fetchWatchContent(){const e=this.getVideoId();e||this.props.history.push("/"),this.props.fetchWatchDetails(e,this.props.channelId)}}var Et=Object(O.f)(Object(i.b)((function(e,t){return{youtubeLibraryLoaded:je(e),channelId:Ee(e,t.location,"v"),nextPageToken:pt(e,t.location)}}),(function(e){const t=J,n=ct.request;return Object(Te.b)({fetchWatchDetails:t,fetchCommentThread:n},e)}))(vt));n(201);class gt extends o.a.Component{render(){const e=this.getVideoPreviews();return o.a.createElement(o.a.Fragment,null,o.a.createElement(S,null),o.a.createElement("div",{className:"video-list"},o.a.createElement(we,{bottomReachedCallback:this.props.bottomReachedCallback,showLoader:this.props.showLoader},e)))}getVideoPreviews(){if(!this.props.videos||!this.props.videos.length)return null;return this.props.videos[0].snippet.description?this.props.videos.map(e=>o.a.createElement(Y,{horizontal:!0,expanded:!0,video:e,key:e.id,pathname:"/watch",search:"?v="+e.id})):null}}class ft extends o.a.Component{constructor(){super(...arguments),this.fetchMoreVideos=()=>{const{nextPageToken:e}=this.props;this.props.youtubeLibraryLoaded&&e&&this.props.fetchMostPopularVideos(12,!0,e)}}componentDidMount(){this.fetchTrendingVideos()}componentDidUpdate(e){e.youtubeLibraryLoaded!==this.props.youtubeLibraryLoaded&&this.fetchTrendingVideos()}render(){const e=this.shouldShowLoader();return o.a.createElement(gt,{bottomReachedCallback:this.fetchMoreVideos,showLoader:e,videos:this.props.videos})}fetchTrendingVideos(){this.props.youtubeLibraryLoaded&&this.props.fetchMostPopularVideos(20,!0)}shouldShowLoader(){return!this.props.allMostPopularVideosLoaded}}var yt=Object(i.b)((function(e){return{videos:de(e),youtubeLibraryLoaded:je(e),allMostPopularVideosLoaded:fe(e),nextPageToken:ye(e)}}),(function(e){const t=v.request;return Object(Te.b)({fetchMostPopularVideos:t},e)}))(ft);n(202);const Ct=u("SEARCH_FOR_VIDEOS"),kt={request:(e,t,n)=>m(Ct[c],{searchQuery:e,nextPageToken:t,amount:n}),success:(e,t)=>m(Ct[l],{response:e,searchQuery:t}),failure:(e,t)=>m(Ct[d],{response:e,searchQuery:t})};function wt(e,t,n){let a=e.items.map(e=>({...e,id:e.id.videoId}));if(n.query===t){a=(n.results||[]).concat(a)}return{totalResults:e.pageInfo.totalResults,nextPageToken:e.nextPageToken,query:t,results:a}}const Ot=e=>e.search.results,It=e=>e.search.nextPageToken;class Tt extends o.a.Component{constructor(){super(...arguments),this.bottomReachedCallback=()=>{this.props.nextPageToken&&this.props.searchForVideos(this.getSearchQuery(),this.props.nextPageToken,25)}}render(){return o.a.createElement(gt,{bottomReachedCallback:this.bottomReachedCallback,showLoader:!0,videos:this.props.searchResults})}getSearchQuery(){return ne(this.props.location,"search_query")}componentDidMount(){this.getSearchQuery()||this.props.history.push("/"),this.searchForVideos()}componentDidUpdate(e){e.youtubeApiLoaded!==this.props.youtubeApiLoaded&&this.searchForVideos()}searchForVideos(){const e=this.getSearchQuery();this.props.youtubeApiLoaded&&this.props.searchForVideos(e)}}var Lt=Object(O.f)(Object(i.b)((function(e,t){return{youtubeApiLoaded:je(e),searchResults:Ot(e,t.location.search),nextPageToken:It(e,t.location.search)}}),(function(e){const t=kt.request;return Object(Te.b)({searchForVideos:t},e)}))(Tt));class xt extends a.Component{render(){return o.a.createElement(Ue,null,o.a.createElement(O.c,null,o.a.createElement(O.a,{path:"/feed/trending",component:yt}),o.a.createElement(O.a,{path:"/results",render:()=>o.a.createElement(Lt,{key:this.props.location.key})}),o.a.createElement(O.a,{path:"/watch",render:()=>o.a.createElement(Et,{key:this.props.location.key})}),o.a.createElement(O.a,{path:"/",component:Pe})))}componentDidMount(){this.loadYoutubeApi()}loadYoutubeApi(){const e=document.createElement("script");e.src="https://apis.google.com/js/client.js",e.onload=()=>{window.gapi.load("client",()=>{window.gapi.client.setApiKey("AIzaSyDV59At-BhS1RRyXLcdo85crpMhoZAcnqM"),window.gapi.client.load("youtube","v3",()=>{this.props.youtubeLibraryLoaded()})})},document.body.appendChild(e)}}var jt=Object(O.f)(Object(i.b)(null,(function(e){return Object(Te.b)({youtubeLibraryLoaded:Le},e)}))(xt));const Nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pt(e){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(e=>{console.error("Error during service worker registration:",e)})}n(203);var Vt=Object(Te.c)({api:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"YOUTUBE_LIBRARY_LOADED":return{libraryLoaded:!0};default:return e}},videos:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b[l]:return oe(t.response,e);case p[l]:return se(t.response,e);case E[l]:return re(t.response,t.categories,e);case X[l]:return ie(t.response,e);case $[l]:return ce(t.response,e);default:return e}},channels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X[l]:return ot(t.response,e);case $[l]:return st(t.response,e);default:return e}},comments:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it[l]:return ut(t.response,t.videoId,e);case X[l]:return dt(t.response,t.videoId,e);default:return e}},search:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ct[l]:return wt(t.response,t.searchQuery,e);case Ct[c]:return t.nextPageToken?e:{};default:return e}}}),St=n(140),Rt=n(10);function Dt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="nextPageToken,prevPageToken,items(contentDetails/duration,id,snippet(channelId,channelTitle,publishedAt,thumbnails/medium,title),statistics/viewCount),pageInfo(totalResults)";return t&&(o+=",items/snippet/description"),_t("GET","/youtube/v3/videos",{part:"snippet,statistics,contentDetails",chart:"mostPopular",maxResults:e,regionCode:"US",pageToken:n,fields:o,videoCategoryId:a},null)}function At(e){return _t("GET","/youtube/v3/videos",{part:"snippet,statistics,contentDetails",id:e,fields:"kind,items(contentDetails/duration,id,snippet(channelId,channelTitle,description,publishedAt,thumbnails/medium,title),statistics)"},null)}function Mt(e){return _t("GET","/youtube/v3/channels",{part:"snippet,statistics",id:e,fields:"kind,items(id,snippet(description,thumbnails/medium,title),statistics/subscriberCount)"},null)}function Bt(e,t){return _t("GET","/youtube/v3/commentThreads",{part:"id,snippet",pageToken:t,videoId:e},null)}function Ft(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;return _t("GET","/youtube/v3/search",{part:"id,snippet",q:e,type:"video",pageToken:t,maxResults:n},null)}function Ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return _t("GET","/youtube/v3/search",{part:"snippet",type:"video",maxResults:t,relatedToVideoId:e},null)}function _t(e,t,n,a){let o;if(n=function(e){for(var t in e)e[t]&&"undefined"!==e[t]||delete e[t];return e}(n),a){let s=function(e){var t={},n=e;for(var a in e){var o=e[a];if(a&&"[]"===a.substr(-2,2)){var s=a.replace("[]","");o&&(n[s]=o.split(",")),delete n[a]}}for(var r in n)if(n.hasOwnProperty(r)&&n[r])for(var i=r.split("."),c=t,l=0;l<i.length;l++){var d=i[l];l===i.length-1?c[d]=n[r]:c=c[d]=c[d]||{}}return t}(a);o=window.gapi.client.request({body:s,method:e,path:t,params:n})}else o=window.gapi.client.request({method:e,path:t,params:n});return o}const qt=nn.bind(null,(function(){return _t("GET","/youtube/v3/videoCategories",{part:"snippet",regionCode:"US"},null)}),h);function*zt(e){const t=e.map(e=>{const t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return()=>{const t=e=>e;return e(...n).then(t,t)}}(Dt,12,!1,null,e);return Object(Rt.b)(t)});try{const n=yield Object(Rt.a)(t);yield Object(Rt.d)(f(n,e))}catch(n){yield Object(Rt.d)(y(n))}}function*Gt(e,t,n){const a=Dt.bind(null,e,t,n);yield nn(a,v)}function*Wt(){for(;;){const{amount:e,loadDescription:t,nextPageToken:n}=yield Object(Rt.e)(b[c]);yield Object(Rt.c)(Gt,e,t,n)}}function*Yt(){yield Object(Rt.f)(p[c],qt)}function*Ht(){for(;;){const{categories:e}=yield Object(Rt.e)(E[c]);yield Object(Rt.c)(zt,e)}}function*Qt(e,t){let n=[At.bind(null,e),Ut.bind(null,e),Bt.bind(null,e)];t&&n.push(Mt.bind(null,t));try{const a=yield Object(Rt.a)(n.map(e=>Object(Rt.b)(e)));yield Object(Rt.d)(K(a,e)),yield Object(Rt.b)(Xt,a,null===t)}catch(a){yield Object(Rt.d)(Z(a))}}function*Xt(e,t){const n=e.find(e=>"youtube#searchListResponse"===e.result.kind).result.items.map(e=>e.id.videoId).map(e=>At.bind(null,e));if(t){const t=e.find(e=>"youtube#videoListResponse"===e.result.kind).result.items;t&&t.length&&n.push(Mt.bind(null,t[0].snippet.channelId))}try{const e=yield Object(Rt.a)(n.map(e=>Object(Rt.b)(e)));yield Object(Rt.d)(ee(e))}catch(a){yield Object(Rt.d)(te(a))}}function*Jt(){for(;;){const{videoId:e,channelId:t}=yield Object(Rt.e)(X[c]);yield Object(Rt.c)(Qt,e,t)}}function*Kt(e,t){const n=Bt.bind(null,e,t);yield nn(n,ct,e)}function*Zt(){for(;;){const{videoId:e,nextPageToken:t}=yield Object(Rt.e)(it[c]);yield Object(Rt.c)(Kt,e,t)}}function*$t(e,t,n){const a=Ft.bind(null,e,t,n);yield nn(a,kt,e)}function*en(){for(;;){const{searchQuery:e,amount:t,nextPageToken:n}=yield Object(Rt.e)(Ct[c]);yield Object(Rt.c)($t,e,n,t)}}var tn=function*(){yield Object(Rt.a)([Object(Rt.c)(Wt),Object(Rt.c)(Yt),Object(Rt.c)(Ht),Object(Rt.c)(Jt),Object(Rt.c)(Zt),Object(Rt.c)(en)])};function*nn(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];try{const n=yield Object(Rt.b)(e);yield Object(Rt.d)(t.success(n.result,...a))}catch(s){yield Object(Rt.d)(t.failure(s,...a))}}const an=function(){const e=Object(St.a)(),t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Te.d,n=Object(Te.e)(Vt,t(Object(Te.a)(e)));return e.run(tn),n}();r.a.render(o.a.createElement(i.a,{store:an},o.a.createElement(w.a,null,o.a.createElement(jt,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/youtube-clone",window.location).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="".concat("/youtube-clone","/service-worker.js");Nt?(!function(e){fetch(e).then(t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Pt(e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Pt(e)})}}()}},[[154,1,2]]]);
//# sourceMappingURL=main.4524a8c1.chunk.js.map